<ion-content [ngStyle]="{ 'backgroundColor': info.color }">
	<div class="left" (click)="closeModal()">
		<ion-icon name="close"></ion-icon>
	</div>
	<div class="hero">
		<div class="background" [ngStyle]="{ 'backgroundImage': 'url(' + info.img + ')' }"></div>
		<div class="source">
			<img *ngIf="insightData.source == 'fb'" src="assets/icon/facebook-w.svg">
			<img *ngIf="insightData.source == 'wex'" src="assets/icon/wechat-w.svg">
		</div>
		<div class="names">
			<h2>{{ insightData.authorName }}</h2>
			<h4>
				({{ insightData.nickname|| 'INSIGHT.ADD_NICKNAME'|translate }})
				<img class="edit" src="assets/icon/edit.svg" (click)="openEditNote()">
			</h4>
		</div>
		<div class="keywords">
		  <span *ngFor="let keyword of insightData.categories">
		    # {{ getKeywordText(translate, type, keyword) }}
		  </span>
		</div>
	</div>
	<div class="content">
		<div>
			<h5>{{ renderTimeStamp(insightData.timestamp) }}</h5>
			<p [innerHTML]="insightData.content"></p>
		</div>
		<div class="select" *ngIf="type == 'potential'">
			<ion-item>
				<ion-label>{{ 'INSIGHT.DETAILS.CURRENT_CUSTOMER' | translate }}</ion-label>
				<ion-checkbox
					(click)="updateUserPreference()"
					[(ngModel)]="is_existing_customer"
					color="light">
				</ion-checkbox>
			</ion-item>
			<ion-item>
				<ion-label>
					{{ 'INSIGHT.DETAILS.NOT_TO_DISPLAY' | translate }}
					{{ insightData.authorName }}
					{{ 'INSIGHT.DETAILS.POST_IN_TWO_MONTH' | translate }}
				</ion-label>
				<ion-checkbox
					(click)="removeInTwoMonth()"
					[(ngModel)]="is_remove_two_month"
					color="light" >
				</ion-checkbox>
			</ion-item>
		</div>
		<div class="know-more-wrap" *ngIf="type !== 'potential'">
			<button class="user-details-btn" (click)="goToAuthorPage()">
				<span [ngStyle]="{ 'color': info.color }">
					{{ 'INSIGHT.DETAILS.KNOW_MORE_ABOUT' | translate }} {{ insightData.authorName }}
				</span>
			</button>
		</div>
		<div class="recommend" *ngIf="recommendations.length > 0">
			<h4>{{ 'INSIGHT.DETAILS.RECOMMEND' | translate }}</h4>
			<div class="boxes">
				<a *ngFor="let recommend of recommendations"
					(click)="openExternalLink(recommend.link)">
					<span [ngStyle]="{ 'color': info.color }">
						{{ recommend.name }}
					</span>
				</a>
			</div>
			<h5>
				{{ 'INSIGHT.DETAILS.PRODUCT_CORRECT' | translate }}
				<span class="hidden">{{ insightData.useful }}</span><!-- use to force data update --->
				<ion-icon 
					name="thumbs-up" 
					[ngClass]="insightData.useful == true ? 'active': ''" 
					(click)="updateSuggestionUseful(true)"
				></ion-icon>
				<ion-icon 
					name="thumbs-down" 
					[ngClass]="insightData.useful == false ? 'active': ''" 
					(click)="updateSuggestionUseful(false)"
				></ion-icon>
			</h5>
		</div>
	</div>
</ion-content>
