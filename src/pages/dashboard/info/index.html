<ion-header>
	<header [title]="'NAVIGATION.INFO'|translate"></header>

	<ion-content #scroll scrollX="true" scrollY="false">
		<ion-segment  class="SwipedTabs-tabs">
			<ion-segment-button *ngFor='let tab of tabs ; let i = index ' value="IngoreMe" (click)="selectTab(i)"
			[ngClass]='{ "SwipedTabs-activeTab" : ( this.SwipedTabsSlider  && ( this.SwipedTabsSlider.getActiveIndex() === i || (  tabs.length -1 === i&& this.SwipedTabsSlider.isEnd()))) }'  [ngStyle]="{'width.px': (this.tabElementWidth_px)}" >
			{{tab}}
			</ion-segment-button>
		</ion-segment>
		
		<!-- here is our dynamic line  "indicator"-->
		<div id='indicator' #indicator class="SwipedTabs-indicatorSegment" [ngStyle]="{'width.px': (this.tabElementWidth_px)}" ></div>
	</ion-content>
</ion-header>

<ion-content class="info-content">
	<div *ngIf="loading" class="loading">
		<div class="load-wrapper">
			<ion-spinner name="crescent" color="light"></ion-spinner>
			<p>{{ 'LOADING' | translate }}</p>
		</div>
	</div>
	<ion-slides #SwipedTabsSlider
		(ionSlideDrag)="animateIndicator($event)"
		(ionSlideWillChange)="updateIndicatorPosition()"
		(ionSlideDidChange)="updateIndicatorPosition()"
		(pan)="updateIndicatorPosition()"
		[pager]="false"
	>
		<ion-slide *ngFor="let name of tabs">
			<ng-container *ngIf="posts.allPost[name]">
				<div *ngFor="let item of posts.allPost[name]" 
					class="thumbnail" (click)="onClickPost(item)">
					<div class="background" 
					[ngClass]=" getClass(item.post_image)"
					[ngStyle]="{ 'backgroundImage': 'url(' + getPath(item.post_image) + ')' }"></div>
					<div class="title">
						<h4>{{ item.post_title }}</h4>
						<p class="date"> {{item.post_date}}</p>
					</div>
				</div>
				<div class="no-data" *ngIf="posts.allPost[name].length <= 0">
					<p>{{ 'INSIGHT.DETAILS.NO_DATA' | translate }}</p>
				</div>
			</ng-container>
		</ion-slide>
	</ion-slides>
</ion-content>
