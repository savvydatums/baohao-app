<ion-header>
	<header [title]="'NAVIGATION.STARRED'|translate"></header>
	<search-bar
		[searchHandler]="searchHandler.bind(this)"
		[selected]="archive.filterType"
		[filters]="searchFilters">
	</search-bar>
</ion-header>
<ion-content>
	<div *ngIf="loading" class="loading">
		<div class="load-wrapper">
			<ion-spinner name="crescent" color="light"></ion-spinner>
			<p>{{ 'LOADING' | translate }}</p>
		</div>
	</div>
	<ion-list>
		  <ion-item-sliding *ngFor="let item of archive.filteredData">
		    <ion-item (click)="showInsightInfo(item)">
		      <ion-avatar item-start>
		        <img *ngIf="item.source == 'fb'" src="assets/icon/facebook.svg">
		        <img *ngIf="item.source == 'wex'" src="assets/icon/wechat.svg">
		      </ion-avatar>
		      <div class="list-content">
		        <h3>{{ item.authorName }}</h3>
		        <p>{{ shortenContent(translate, item.content, 8, 20) }}</p>
		      </div>
		      <div class="list-label">
		        <div class="category-list">
		          <span class="keyword-label" [style.background-color]="getKeywordColor(item.categories[0])">
		            {{ getKeywordText(translate, type, item.categories[0]) }}
		          </span>
		        </div>
		        <span class="date">{{ renderTimeStamp(item.timestamp) }}</span>
		      </div>
		    </ion-item>
		    <ion-item-options side="right">
				<button ion-button (click)="unStarInsight(item._id, item.source)">{{ 'INSIGHT.ARCHIVE.UNSTAR' | translate }}</button>
				<button ion-button (click)="trashInsight(item._id, item.source, item.categories)">{{ 'INSIGHT.ARCHIVE.TRASH' | translate }}</button>
		    </ion-item-options>
		  </ion-item-sliding>
	</ion-list>
</ion-content>
