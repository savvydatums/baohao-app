<ion-content padding>
    <div class="head-nav">
      <ion-icon class="back" name="arrow-back" navPush="StepsPage"></ion-icon>
    </div>

    <div class="signup">
      <form [formGroup]="registrationForm">
        <h1> {{ 'SIGNUP.TITLE' | translate }} </h1>
        <ion-list>
          <ion-item>
            <ion-label floating>{{ 'SIGNUP.REGISTRATION_LABEL' | translate }}</ion-label>
            <ion-input type="text" formControlName="registration_id"></ion-input>
          </ion-item>
          <p class="example">{{ 'SIGNUP.REGISTRATION_EXAMPLE' | translate }}</p>

          <ion-item>
            <ion-label floating>{{ 'SIGNUP.PASSWORD_LABEL' | translate }}</ion-label>
            <ion-input type="password" formControlName="password"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label floating>{{ 'SIGNUP.CONFIRM_PASSWORD_LABEL' | translate }}</ion-label>
            <ion-input type="password" formControlName="confirmPassword"></ion-input>
          </ion-item>
        </ion-list>

        <div *ngIf="registrationForm.controls.registration_id.invalid && (registrationForm.controls.registration_id.dirty || registrationForm.controls.registration_id.touched)">
          <div class="error" *ngIf="registrationForm.controls.registration_id.errors">
            <ion-icon name="information-circle"></ion-icon>
            {{ 'SIGNUP.REGISTRATION_ID_FAIL' | translate }}
          </div>
        </div>

        <div *ngIf="registrationForm.controls.confirmPassword.dirty">
          <div class="error" *ngIf="registrationForm.controls.confirmPassword.errors">
            <ion-icon name="information-circle"></ion-icon>
            {{ 'SIGNUP.PASSWORD_ERROR' | translate }}
          </div>
		</div>

		<div *ngIf="registrationForm.controls.password.dirty">
          <div class="error" *ngIf="registrationForm.controls.password.errors">
            <ion-icon name="information-circle"></ion-icon>
            {{ 'SIGNUP.PASSWORD_RULE_ERROR' | translate }}
          </div>
        </div>

        <div class="terms-label">
        	<p>{{ 'SIGNUP.TERMS_LABEL' | translate }}</p>
        </div>
        <div class="terms-short">
            <p [innerHTML]="'SIGNUP.TERMS_CONTENT_SHORT' | translate"></p>
        </div>
        <div class="terms-more">
            <a (click)="openTerms()">{{ 'SIGNUP.FULL_SCREEN_LABEL' | translate }}</a>
        </div>

        <div class="terms-checkbox">
          <ion-checkbox formControlName="acceptTerms" required></ion-checkbox>
          <p>{{ 'SIGNUP.TERMS_AGREE_LABEL' | translate }}</p>
        </div>

        <button ion-button color="light" block round (click)="onRegister()" [disabled]="!registrationForm.valid">
          {{ 'GLOBAL_NEXT_BUTTON_LABEL' | translate }}
        </button>
    </form>
  </div>
</ion-content>
